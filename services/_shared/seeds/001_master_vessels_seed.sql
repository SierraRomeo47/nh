-- ========================================
-- MASTER VESSELS SEED DATA
-- Comprehensive realistic fleet data
-- ========================================

-- Insert Organizations first
INSERT INTO organizations (id, name, imo_company_number, registration_country, contact_email, company_type) VALUES
('00000000-0000-0000-0000-000000000001', 'Nordic Maritime Corp', '1234567', 'NOR', 'contact@nordicmaritime.no', 'SHIPPING_COMPANY'),
('00000000-0000-0000-0000-000000000002', 'Mediterranean Shipping Lines', '2345678', 'ITA', 'info@medshipping.it', 'SHIPPING_COMPANY'),
('00000000-0000-0000-0000-000000000003', 'Pacific Tanker Fleet', '3456789', 'SGP', 'ops@pacifictankers.sg', 'SHIPPING_COMPANY'),
('00000000-0000-0000-0000-000000000004', 'Atlantic Container Services', 'contract@atlanticcontainers.com', 'GBR', 'SHIPPING_COMPANY'),
('00000000-0000-0000-0000-000000000005', 'Baltic LNG Transport', '5678901', 'DNK', 'lng@balticlng.dk', 'SHIPPING_COMPANY')
ON CONFLICT (id) DO UPDATE SET
    name = EXCLUDED.name,
    contact_email = EXCLUDED.contact_email;

-- Insert comprehensive vessel fleet
INSERT INTO ships (
    id, imo_number, name, call_sign, mmsi,
    organization_id, flag_state, port_of_registry,
    ship_type, vessel_subtype,
    gross_tonnage, net_tonnage, deadweight_tonnage,
    length_overall_m, beam_m, draft_m,
    year_built, shipyard,
    main_engine_manufacturer, main_engine_model, main_engine_type, engine_power_kw,
    design_speed_knots, service_speed_knots, eco_speed_knots,
    port_consumption_tonnes_day, sea_consumption_tonnes_day, eco_consumption_tonnes_day,
    fuel_capacity_tonnes, primary_fuel_type,
    cargo_capacity_teu, cargo_capacity_tonnes,
    classification_society, class_notation,
    eedi_value, eexi_value, cii_rating, cii_value,
    imo_tier,
    ballast_water_treatment, sox_scrubber_installed, sox_scrubber_type,
    waste_heat_recovery, shore_power_capability,
    shaft_generator, vfd_installed, propeller_optimization,
    hull_insurance_value, protection_indemnity_club, safety_rating,
    operational_status, current_port,
    daily_charter_rate_usd,
    is_active
) VALUES
-- Container Ships
('550e8400-e29b-41d4-a716-446655440001', '9391001', 'Aurora Spirit', 'LAUD', '257123456',
 '00000000-0000-0000-0000-000000000001', 'NOR', 'Oslo',
 'Container Ship', 'Post-Panamax',
 115000, 68000, 110000,
 350.0, 45.6, 15.5,
 2018, 'Hyundai Heavy Industries',
 'MAN B&W', '9S90ME-C10.5', '2-STROKE', 68640,
 24.5, 22.0, 18.5,
 4.2, 185.0, 145.0,
 8500, 'VLSFO',
 13800, NULL,
 'DNV', '1A1 Container Carrier',
 15.8, 16.2, 'B', 16.5,
 'Tier III',
 true, true, 'HYBRID',
 true, true,
 true, true, true,
 125000000, 'Gard P&I', 'EXCELLENT',
 'ACTIVE', 'Rotterdam',
 55000,
 true),

('550e8400-e29b-41d4-a716-446655440002', '9391002', 'Baltic Trader', 'LACN', '257234567',
 '00000000-0000-0000-0000-000000000001', 'NOR', 'Bergen',
 'Container Ship', 'Feeder',
 28500, 17800, 35000,
 210.0, 30.2, 10.8,
 2015, 'Daewoo',
 'Wartsila', '6RT-flex50', '2-STROKE', 14280,
 21.0, 19.5, 16.0,
 2.8, 45.5, 38.0,
 2200, 'MGO',
 2500, NULL,
 'LR', '100A1 Container Ship',
 18.5, 19.2, 'C', 19.8,
 'Tier II',
 true, false, NULL,
 false, true,
 true, false, true,
 42000000, 'Skuld P&I', 'GOOD',
 'ACTIVE', 'Hamburg',
 18000,
 true),

-- Tankers
('550e8400-e29b-41d4-a716-446655440003', '9391006', 'Fjord Runner', 'LBFR', '257345678',
 '00000000-0000-0000-0000-000000000003', 'NOR', 'Stavanger',
 'Tanker', 'MR (Medium Range)',
 31550, 19200, 48000,
 183.0, 32.2, 12.5,
 2015, 'Hyundai Mipo',
 'MAN B&W', '6S50ME-B9.3', '2-STROKE', 9480,
 15.0, 14.5, 13.0,
 2.5, 38.0, 32.0,
 4200, 'VLSFO',
 NULL, 48000,
 'DNV', '1A1 Oil Tanker',
 17.2, 17.8, 'B', 18.1,
 'Tier II',
 true, true, 'CLOSED_LOOP',
 true, false,
 true, true, true,
 45000000, 'UK P&I Club', 'EXCELLENT',
 'ACTIVE', 'Singapore',
 22000,
 true),

('550e8400-e29b-41d4-a716-446655440004', '9391007', 'Gulf Pioneer', 'LBGP', '257456789',
 '00000000-0000-0000-0000-000000000003', 'NOR', 'Oslo',
 'Tanker', 'MR (Medium Range)',
 31700, 19400, 49500,
 183.0, 32.2, 12.6,
 2016, 'Hyundai Mipo',
 'MAN B&W', '6S50ME-B9.3', '2-STROKE', 9480,
 15.0, 14.5, 13.0,
 2.4, 37.5, 31.5,
 4200, 'VLSFO',
 NULL, 49500,
 'DNV', '1A1 Oil Tanker',
 16.8, 17.3, 'B', 17.6,
 'Tier II',
 true, true, 'CLOSED_LOOP',
 true, false,
 true, true, true,
 48000000, 'UK P&I Club', 'EXCELLENT',
 'ACTIVE', 'Rotterdam',
 23000,
 true),

('550e8400-e29b-41d4-a716-446655440005', '9445123', 'Pacific Voyager', 'LBPV', '257567890',
 '00000000-0000-0000-0000-000000000003', 'SGP', 'Singapore',
 'Tanker', 'Aframax',
 59500, 36800, 115000,
 245.0, 42.0, 15.5,
 2008, 'Samsung Heavy Industries',
 'Sulzer', '7RTA84T', '2-STROKE', 20930,
 15.5, 15.0, 13.5,
 3.8, 58.0, 48.0,
 8800, 'HFO',
 NULL, 115000,
 'ABS', 'ABS +A1 Tanker',
 NULL, 19.5, 'C', 20.2,
 'Tier I',
 true, true, 'OPEN_LOOP',
 false, false,
 false, false, false,
 38000000, 'Britannia P&I', 'GOOD',
 'ACTIVE', 'Fujairah',
 28000,
 true),

-- Bulk Carriers
('550e8400-e29b-41d4-a716-446655440006', '9556780', 'Iron Mountain', 'LBIM', '257678901',
 '00000000-0000-0000-0000-000000000002', 'MLT', 'Valletta',
 'Bulk Carrier', 'Capesize',
 180000, 105000, 195000,
 292.0, 45.0, 18.2,
 2010, 'Dalian Shipbuilding',
 'MAN B&W', '7S70ME-C8.2', '2-STROKE', 27160,
 15.0, 14.0, 12.5,
 4.5, 68.0, 55.0,
 12000, 'HFO',
 NULL, 195000,
 'DNV', '1A1 Bulk Carrier',
 NULL, 18.8, 'C', 19.5,
 'Tier I',
 true, true, 'HYBRID',
 true, false,
 true, false, true,
 55000000, 'Gard P&I', 'GOOD',
 'ACTIVE', 'Port Hedland',
 32000,
 true),

('550e8400-e29b-41d4-a716-446655440007', '9556789', 'Suezmax Glory', 'LBSG', '257789012',
 '00000000-0000-0000-0000-000000000003', 'LBR', 'Monrovia',
 'Tanker', 'Suezmax',
 85000, 51000, 164000,
 274.0, 48.0, 16.8,
 2012, 'Daewoo',
 'MAN B&W', '6S70ME-C8.2', '2-STROKE', 23920,
 15.5, 15.0, 13.5,
 3.5, 62.0, 52.0,
 10500, 'VLSFO',
 NULL, 164000,
 'LR', 'LR 100A1 Oil Tanker',
 NULL, 18.2, 'B', 18.7,
 'Tier II',
 true, true, 'CLOSED_LOOP',
 true, true,
 true, true, true,
 68000000, 'UK P&I Club', 'EXCELLENT',
 'ACTIVE', 'Suez',
 35000,
 true),

-- LNG Carriers
('550e8400-e29b-41d4-a716-446655440008', '9667890', 'Northern Lights', 'LBNL', '257890123',
 '00000000-0000-0000-0000-000000000005', 'DNK', 'Copenhagen',
 'LNG Carrier', 'Q-Max',
 135000, 82000, 105000,
 345.0, 53.8, 12.0,
 2019, 'Daewoo DSME',
 'MAN B&W', 'MEGI', 'DUAL_FUEL', 31320,
 19.5, 19.0, 17.5,
 3.2, 155.0, 138.0,
 5800, 'LNG',
 NULL, NULL,
 'DNV', '1A1 Gas Carrier',
 12.5, 13.2, 'A', 13.8,
 'Tier III',
 true, false, NULL,
 true, true,
 true, true, true,
 285000000, 'Gard P&I', 'EXCELLENT',
 'ACTIVE', 'Doha',
 95000,
 true),

-- Modern Eco Ships
('550e8400-e29b-41d4-a716-446655440009', '9778901', 'Green Horizon', 'LBGH', '258901234',
 '00000000-0000-0000-0000-000000000001', 'NOR', 'Oslo',
 'Container Ship', 'Ultra Large',
 220000, 132000, 200000,
 400.0, 59.0, 16.0,
 2022, 'Samsung Heavy Industries',
 'MAN B&W', '11G95ME-C10.5-EGRBP', '2-STROKE', 63840,
 23.0, 22.0, 19.5,
 3.8, 178.0, 152.0,
 15000, 'VLSFO',
 24000, NULL,
 'DNV', '1A1 Container Carrier, E0',
 13.2, 13.5, 'A', 14.1,
 'Tier III',
 true, true, 'HYBRID',
 true, true,
 true, true, true,
 185000000, 'Skuld P&I', 'EXCELLENT',
 'ACTIVE', 'Shanghai',
 68000,
 true),

('550e8400-e29b-41d4-a716-446655440010', '9889012', 'Eco Voyager', 'LBEV', '259012345',
 '00000000-0000-0000-0000-000000000001', 'NOR', 'Bergen',
 'Bulk Carrier', 'Panamax',
 82000, 48500, 93000,
 229.0, 32.26, 14.5,
 2020, 'Imabari Shipbuilding',
 'MAN B&W', '6S60ME-C8.5', '2-STROKE', 13560,
 14.5, 14.0, 12.0,
 3.2, 52.0, 42.0,
 7200, 'VLSFO',
 NULL, 93000,
 'NK', 'NK Class NK',
 14.5, 15.1, 'A', 15.6,
 'Tier III',
 true, true, 'CLOSED_LOOP',
 true, true,
 true, true, true,
 62000000, 'Gard P&I', 'EXCELLENT',
 'ACTIVE', 'Brisbane',
 26000,
 true),

-- Additional Fleet Vessels
('550e8400-e29b-41d4-a716-446655440011', '9445125', 'Indian Ocean', 'LBIO', '259123456',
 '00000000-0000-0000-0000-000000000003', 'LBR', 'Monrovia',
 'Tanker', 'Aframax',
 60200, 37200, 117000,
 246.0, 42.2, 15.6,
 2010, 'Hyundai Heavy Industries',
 'MAN B&W', '7S60ME', '2-STROKE', 19460,
 15.5, 15.0, 13.5,
 3.7, 59.0, 49.0,
 9000, 'HFO',
 NULL, 117000,
 'DNV', '1A1 Oil Tanker',
 NULL, 19.2, 'C', 19.9,
 'Tier I',
 true, true, 'OPEN_LOOP',
 false, false,
 false, false, false,
 42000000, 'UK P&I Club', 'GOOD',
 'ACTIVE', 'Mumbai',
 29000,
 true),

('550e8400-e29b-41d4-a716-446655440012', '9667891', 'Atlantic Express', 'LBAE', '259234567',
 '00000000-0000-0000-0000-000000000004', 'GBR', 'London',
 'Container Ship', 'Super Post-Panamax',
 158000, 95000, 145000,
 366.0, 51.2, 15.8,
 2019, 'Imabari Shipbuilding',
 'Wartsila', 'RT-flex96C', '2-STROKE', 68520,
 24.0, 23.0, 20.0,
 4.0, 195.0, 168.0,
 11000, 'VLSFO',
 18000, NULL,
 'LR', 'LR 100A1 Container Ship',
 14.8, 15.3, 'A', 15.9,
 'Tier III',
 true, true, 'CLOSED_LOOP',
 true, true,
 true, true, true,
 148000000, 'Britannia P&I', 'EXCELLENT',
 'ACTIVE', 'Felixstowe',
 62000,
 true),

('550e8400-e29b-41d4-a716-446655440013', '9778902', 'Mediterranean Star', 'LBMS', '259345678',
 '00000000-0000-0000-0000-000000000002', 'ITA', 'Genoa',
 'Container Ship', 'Neo-Panamax',
 142000, 88000, 138000,
 368.0, 51.0, 16.0,
 2021, 'Fincantieri',
 'MAN B&W', '10G95ME-C10.5', '2-STROKE', 62000,
 23.5, 22.5, 19.8,
 3.9, 185.0, 158.0,
 12500, 'VLSFO',
 19000, NULL,
 'RINA', 'C Hull, Mach',
 13.8, 14.2, 'A', 14.7,
 'Tier III',
 true, true, 'HYBRID',
 true, true,
 true, true, true,
 165000000, 'West of England P&I', 'EXCELLENT',
 'ACTIVE', 'Piraeus',
 64000,
 true),

-- Older vessels for comparison
('550e8400-e29b-41d4-a716-446655440014', '9334567', 'Legacy Carrier', 'LBLC', '259456789',
 '00000000-0000-0000-0000-000000000002', 'MLT', 'Valletta',
 'Bulk Carrier', 'Handymax',
 52000, 31000, 72000,
 190.0, 32.26, 13.2,
 2005, 'Tsuneishi',
 'Mitsubishi', 'UEC60LSE', '2-STROKE', 11600,
 14.0, 13.5, 11.5,
 3.5, 55.0, 46.0,
 5500, 'HFO',
 NULL, 72000,
 'NK', 'NS Bulk Carrier',
 NULL, 21.5, 'D', 22.3,
 'Tier I',
 true, false, NULL,
 false, false,
 false, false, false,
 28000000, 'Japan P&I', 'FAIR',
 'ACTIVE', 'Kaohsiung',
 18000,
 true),

('550e8400-e29b-41d4-a716-446655440015', '9889013', 'Future Vision', 'LBFV', '259567890',
 '00000000-0000-0000-0000-000000000005', 'DNK', 'Copenhagen',
 'LNG Carrier', 'Q-Flex',
 128000, 78000, 98000,
 315.0, 50.0, 12.0,
 2020, 'Hyundai Samho',
 'MAN B&W', 'MEGI', 'DUAL_FUEL', 29400,
 19.5, 19.0, 17.5,
 3.1, 148.0, 135.0,
 5500, 'LNG',
 NULL, NULL,
 'DNV', '1A1 Gas Carrier',
 12.8, 13.5, 'A', 14.0,
 'Tier III',
 true, false, NULL,
 true, true,
 true, true, true,
 265000000, 'Gard P&I', 'EXCELLENT',
 'ACTIVE', 'Ras Laffan',
 88000,
 true)

ON CONFLICT (imo_number) DO UPDATE SET
    name = EXCLUDED.name,
    organization_id = EXCLUDED.organization_id,
    ship_type = EXCLUDED.ship_type,
    gross_tonnage = EXCLUDED.gross_tonnage,
    year_built = EXCLUDED.year_built,
    service_speed_knots = EXCLUDED.service_speed_knots,
    sea_consumption_tonnes_day = EXCLUDED.sea_consumption_tonnes_day,
    port_consumption_tonnes_day = EXCLUDED.port_consumption_tonnes_day,
    operational_status = EXCLUDED.operational_status,
    current_port = EXCLUDED.current_port,
    safety_rating = EXCLUDED.safety_rating,
    cii_rating = EXCLUDED.cii_rating,
    updated_at = NOW();

-- Update insurance quotes to link to vessels by name where possible
UPDATE insurance_quotes iq
SET vessel_id = s.id
FROM ships s
WHERE iq.vessel_name = s.name
AND iq.vessel_id IS NULL;

-- Verify vessel count
SELECT 
    COUNT(*) as total_vessels,
    COUNT(*) FILTER (WHERE operational_status = 'ACTIVE') as active_vessels,
    COUNT(DISTINCT ship_type) as vessel_types,
    AVG(EXTRACT(YEAR FROM NOW()) - year_built)::INTEGER as avg_age
FROM ships
WHERE is_active = TRUE;

